# プロジェクト構造

## ルートレベル構成
```
├── src/                    # ソースコード
├── public/                 # 静的アセット
├── .astro/                 # Astroビルド成果物
├── .storybook/             # Storybook設定
├── e2e/                    # エンドツーエンドテスト
├── test-results/           # テスト出力
└── dist/                   # ビルド出力
```

## ソースコード構造 (`src/`)

### コンポーネント (`src/components/`)
- **ネストしたフォルダ構造**: 各コンポーネントは`index.tsx`を持つ独自フォルダ
- **Storybook統合**: コンポーネントには`.stories.tsx`ファイルを含む
- **階層的構成**: 
  - `Page/` - ページレベルコンポーネント（Header、PageCoverなど）
  - `Blog/` - ブログ専用コンポーネント
  - `Typography/` - 再利用可能なタイポグラフィコンポーネント
  - `ThemeProvider/` - テーマとスタイリングプロバイダー

### ページ (`src/pages/`)
- **動的ルーティング**: 多言語対応のための`[...lang]/`
- **並列構造**: ルートページ + 言語固有バージョン
- **ブログルーティング**: 個別のブログページネーションとスラッグ処理

### 国際化 (`src/i18n/`)
- `ui.ts` - UIテキスト翻訳
- `utils.tsx` - 翻訳ユーティリティ関数
- `content/` - カテゴリ別構造化コンテンツ翻訳

### コンテンツ (`src/content/`)
- `blog/` - 言語別に整理されたMarkdownブログ投稿（`en/`、`ja/`）
- `config.ts` - Astro Content Collectionsスキーマ定義

### ユーティリティ (`src/utils/`)
- `blogUtils.ts` - ブログ関連ヘルパー関数
- `staticRoute.ts` - ルート定義
- `microcms.ts` - CMS統合ユーティリティ
- `integration.ts` - Astro統合セットアップ

## 命名規則

### ファイル・フォルダ
- **コンポーネント**: `index.tsx`を持つPascalCaseフォルダ
- **ユーティリティ**: camelCase `.ts`ファイル
- **ページ**: 小文字`.astro`ファイル
- **コンテンツ**: 言語プレフィックス付き小文字`.md`ファイル

### コード規則
- **Reactコンポーネント**: PascalCase関数エクスポート
- **ユーティリティ関数**: camelCaseエクスポート
- **型**: PascalCaseインターフェース/型
- **定数**: UPPER_SNAKE_CASE

## 言語構造
- **デフォルト言語** (`ja`): URLプレフィックスなし
- **その他の言語**: URLプレフィックス（`/en/`、`/lo/`）
- **コンテンツフォールバック**: 翻訳が見つからない場合は日本語にフォールバック
- **ファイル構成**: 言語フォルダ別にコンテンツを分離

## テスト構造
- **ユニットテスト**: ソースと並列の`.test.ts`ファイル
- **E2Eテスト**: `.spec.ts`ファイルを持つ`e2e/`ディレクトリ
- **Storybookテスト**: コンポーネント`.stories.tsx`ファイル
- **テストユーティリティ**: 設定ファイル内の共有テストセットアップ
